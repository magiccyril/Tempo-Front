<!doctype html>
<html class="no-js" lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Foundation</title>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) css/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/foundation/css/foundation.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) css/app.css -->
    <link rel="stylesheet" href="css/app.css">
    <!-- endbuild -->
  </head>
  <body ng-app="tempoApp">
    <div ng-controller="MainCtrl">
      <div class="row row-no-margin">
        <div id="site-title" class="">
          <h1>EDF Tempo - EJP</h1>
          <h2 class="h6">La couleur du jour de votre abonnement EDF Tempo et EJP, et celle du lendemain, tous les jours, dès 17h.</h2>
        </div>
      </div>

      <div class="row">
        <div id="forecast">
          <h2 class="h6"><i class="icon-gauge"></i>Prévision</h2>
          <h3 class="h2">Tempo</h3>

          <div class="row" id="forecast-tempo">
            <div class="forecast-tempo-day">
              <img src="http://placehold.it/253x175&amp;text=-"><br/>
              Aujourd'hui,<br/>{{ today.format('dddd DD MMMM YYYY') }}
            </div>
            <div class="forecast-tempo-day">
              <img src="http://placehold.it/253x175&amp;text=-"><br/>
              Demain,<br/>{{ tomorrowDate.format('dddd DD MMMM YYYY') }}
            </div>
            <div class="forecast-tempo-hour-vertical">
              <img src="http://placehold.it/64x175&amp;text=Pleines" ng-hide="isOffPeak()">
              <img src="http://placehold.it/64x175&amp;text=Creuses" ng-show="isOffPeak()">
            </div>
            <div class="forecast-tempo-hour-horizontal">
              <img src="http://placehold.it/450x64&amp;text=Pleines" ng-hide="isOffPeak()">
              <img src="http://placehold.it/450x64&amp;text=Creuses" ng-show="isOffPeak()">
            </div>
            <div class="forecast-tempo-counter">
                <a href="#" class="forecast-tempo-counter-blue">{{ tempoCounter.blue }} jours bleu</a> jusqu'au 31 aout.<br/>
                <a href="#" class="forecast-tempo-counter-white">{{ tempoCounter.white }} jours blanc</a> jusqu'au 30 avril.<br/>
                <a href="#" class="forecast-tempo-counter-red">{{ tempoCounter.red }} jours rouge</a> jusqu'au 31 mars.
            </div>
          </div>

          <h3 class="h2">EJP</h3>
          <div class="row" id="forecast-ejp">
            <div class="forecast-ejp-table">
              <ul>
                <li class="title">Aujourd'hui,<br/>jeudi 21 aout 2014</li>
                <li class="forecast-ejp-item-ejp"><img src="img/exclamation.svg" alt="Jour EJP" class="ejp-icon" />EJP</span> Nord</li>
                <li class="forecast-ejp-item-not"><img src="img/valid.svg" alt="Jour NON EJP" class="ejp-icon" /></span> Zone PACA</li>
                <li class="forecast-ejp-item-not"><img src="img/valid.svg" alt="Jour NON EJP" class="ejp-icon" /></span> Ouest</li>
                <li class="forecast-ejp-item-not"><img src="img/valid.svg" alt="Jour NON EJP" class="ejp-icon" /></span> Sud</li>
              </ul>
            </div>
            <div class="forecast-ejp-table">
              <ul>
                <li class="title">Demain,<br/>vendredi 22 aout 2014</li>
                <li class=""><img src="img/question.svg" alt="" class="ejp-icon" /> Nord</li>
                <li class=""><img src="img/question.svg" alt="" class="ejp-icon" /> Zone PACA</li>
                <li class=""><img src="img/question.svg" alt="" class="ejp-icon" /> Ouest</li>
                <li class=""><img src="img/question.svg" alt="" class="ejp-icon" /> Sud</li>
              </ul>
            </div>
            <div class="forecast-ejp-table">
              <ul>
                <li class="title">Restant<br/><small>du 1 novembre au 31 mars</small></li>
                <li class=""><span ng-class="{'forecast-ejp-counter': ejpCounter.north > 0, 'forecast-ejp-counter-zero': ejpCounter.north == 0}">{{ ejpCounter.north }}</span> Nord</li>
                <li class=""><span ng-class="{'forecast-ejp-counter': ejpCounter.paca > 0, 'forecast-ejp-counter-zero': ejpCounter.paca == 0}">{{ ejpCounter.paca }}</span> Zone PACA</li>
                <li class=""><span ng-class="{'forecast-ejp-counter': ejpCounter.west > 0, 'forecast-ejp-counter-zero': ejpCounter.west == 0}">{{ ejpCounter.west }}</span> Ouest</li>
                <li class=""><span ng-class="{'forecast-ejp-counter': ejpCounter.south > 0, 'forecast-ejp-counter-zero': ejpCounter.south == 0}">{{ ejpCounter.south }}</span> Sud</li>
              </ul>
            </div>

            <div class="forecast-ejp-ads">
              <!-- Tempo-v2
              <ins class="adsbygoogle"
                   style="display:inline-block;width:300px;height:250px"
                   data-ad-client="ca-pub-1301406530258142"
                   data-ad-slot="5314168450"></ins>
              <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
              -->
              <img src="https://storage.googleapis.com/support-kms-prod/SNP_6EB8C8AA85A5443CB6FEF7DE5934A23154FA_2922349_en_v1" />
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div id="calendar">
          <h2 class="h6"><i class="icon-calendar"></i>Calendrier</h2>

          <div class="calendar-nav">
            <h3>
              <span class="calendar-nav-month">
                <a href ng-click="changeMonth(previousMonth)"><i class="icon-left"></i></a>
                <span>{{ calendarDate.format('MMMM') }}</span>
                <a href ng-click="changeMonth(nextMonth)"><i class="icon-right"></i></a>
              </span>
              <span class="calendar-nav-year">
                <a href ng-click="changeMonth(previousYear)"><i class="icon-left"></i></a>
                <span>{{ calendarDate.format('YYYY') }}</span>
                <a href ng-click="changeMonth(nextYear)"><i class="icon-right"></i></a>
              </span>
            </h3>
            <h4 class="h6 calendar-nav-today">
              <a href ng-click="changeMonth(today)" ng-show="today.format('YYYYMM') != calendarDate.format('YYYYMM')">Revenir à aujourd'hui</a>
              <span ng-hide="today.format('YYYYMM') != calendarDate.format('YYYYMM')">&nbsp;</span>
            </h4>
          </div>
          <div class="calendar-type">
            <h4 class="calendar-type-summary" ng-click="onCalendarTypeClick()">{{ calendarTypeFormat(calendarType) }} <i class="icon-cog"></i></h4>
            <form ng-show="showCalendarType">
              <div class="switch">
                Tempo
                <input id="calendar-type-ejp-tempo" type="radio" name="calendar-type" ng-model="calendarType" ng-change="onCalendarTypeChange()" value="tempo">
                <label for="calendar-type-ejp-tempo">Tempo</label>
              </div>
              <div class="switch">
                EJP Nord
                <input id="calendar-type-ejp-north" type="radio" name="calendar-type" ng-model="calendarType" ng-change="onCalendarTypeChange()" value="ejp-north">
                <label for="calendar-type-ejp-north">EJP Nord</label>
              </div>
              <div class="switch">
                EJP PACA
                <input id="calendar-type-ejp-paca" type="radio" name="calendar-type" ng-model="calendarType" ng-change="onCalendarTypeChange()" value="ejp-paca">
                <label for="calendar-type-ejp-paca">EJP PACA</label>
              </div>
              <div class="switch">
                EJP Ouest
                <input id="calendar-type-ejp-west" type="radio" name="calendar-type" ng-model="calendarType" ng-change="onCalendarTypeChange()" value="ejp-west">
                <label for="calendar-type-ejp-west">EJP Ouest</label>
              </div>
              <div class="switch">
                EJP Sud
                <input id="calendar-type-ejp-south" type="radio" name="calendar-type" ng-model="calendarType" ng-change="onCalendarTypeChange()" value="ejp-south">
                <label for="calendar-type-ejp-south">EJP Sud</label>
              </div>
            </form>
          </div>

          <calendar ng-model="calendarEvents" date="calendarDate"></calendar>
        </div>
      </div>
    </div>

    <div class="row">
      <div id="content">
        <h2 class="h6"><i class="icon-quote"></i>À propos</h2>

        <h3>EDF Tempo</h3>
        <p>Tempo est un abonnement EDF. Les jours de l’année sont divisés en trois couleurs : bleu (le moins chère), blanc et rouge (le plus chère).  Et viennent s’ajouter à cela des heures creuses et des heures pleines.</p>
        <p>Répartition des jours dans l’année :</p>
        <ul><li>22 jours rouges répartis entre le 1er novembre et 31 mars, hors samedi, dimanche et jours fériés.</li><li>43 jours blancs d’octobre à mai, hors dimanche.</li><li>300 jours bleus (301 lors d’année bissextile).</li></ul>
        <p>Une journée Tempo commence à 6h du matin et est découpée en deux périodes :</p>
        <ul><li>Période heures pleines : de 6h à 22h.</li><li>Période heures creuses : de 22h à 6h.</li></ul>
        <p>Pour plus d’information, consultez le <a href="http://bleuciel.edf.com/abonnement-et-contrat/les-prix/les-prix-de-l-electricite/option-tempo/en-savoir-plus-52429.html">site officiel EDF Tempo</a>.</p>

        <h3>EJP</h3>
        <p>Lorem ipsum</h3>
      </div>
      <div id="contact" ng-controller="ContactCtrl">
        <h2 class="h6"><i class="icon-comment"></i>Contact</h2>
        <form ng-submit="onContactFormSubmit()">
          <div ng-hide="contactStatus.pending || contactStatus.sent || contactStatus.error || !contactStatus.connected">
            <div class="row">
              <div class="form-item">
                <label>Votre nom</label>
                <input type="text" ng-model="name" required />
              </div>
            </div>
            <div class="row">
              <div class="form-item">
                <label>Votre adresse email</label>
                <input type="email" ng-model="email" required />
              </div>
            </div>
            <div class="row">
              <div class="form-item">
                <label>Message</label>
                <textarea rows="10" ng-model="message" required></textarea>
              </div>
            </div>
            <div class="row">
              <div class="form-item text-center">
                <input type="submit" value="Envoyer" class="submit" />
                <small>ou envoyer un email à <a href="mailto:tempo@18ruedivona.eu">tempo@18ruedivona.eu</a></small>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-item">
              <p class="success" ng-show="true === contactStatus.pending">Envoi en cours</p>
              <p class="error" ng-show="false === contactStatus.connected">Ooops, impossible de joindre le serveur de messagerie.<br/><br/> Vous pouvez envoyer un email à <a href="mailto:tempo@18ruedivona.eu">tempo@18ruedivona.eu</a></p>
              <p class="error" ng-show="false === contactStatus.error">Ooops, une erreur est survenue, le message n'a pas été envoyé !<br/><br/> Vous pouvez envoyer un email à <a href="mailto:tempo@18ruedivona.eu">tempo@18ruedivona.eu</a></p>
              <p class="success" ng-show="true === contactStatus.sent">Merci,<br/>le message a été envoyé !<br/><small><a href ng-click="resetForm()">Envoyer un autre message ?</a></small></p>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- build:js(.) js/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/modernizr/modernizr.js"></script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/fastclick/lib/fastclick.js"></script>
    <script src="bower_components/jquery.cookie/jquery.cookie.js"></script>
    <script src="bower_components/jquery-placeholder/jquery.placeholder.js"></script>
    <script src="bower_components/foundation/js/foundation.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-touch/angular-touch.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:js({.tmp,app}) js/scripts.js -->
    <script src="js/moment.js"></script>
    <script src="js/app.js"></script>
    <script src="js/config.js"></script>
    <script src="js/controllers/main.js"></script>
    <script src="js/controllers/contact.js"></script>
    <script src="js/directives/calendar.js"></script>
    <script src="js/services/mandrill.js"></script>
    <script src="js/services/tempo.js"></script>
    <script src="js/services/ejp.js"></script>
    <script src="js/services/forecast.js"></script>
    <!-- endbuild -->

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </body>
</html>
